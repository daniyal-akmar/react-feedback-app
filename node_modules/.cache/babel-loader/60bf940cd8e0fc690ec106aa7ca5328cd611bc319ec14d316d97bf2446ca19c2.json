{"ast":null,"code":"import _slicedToArray from\"C:/Users/DELL/Desktop/New React Practice/traversy-media-course/feedback-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Card from\"./Shared/Card\";// Context\nimport{useContext}from\"react\";import FeedbackContext from\"../Context/FeedbackContext\";// Components\nimport RatingGroup from\"./RatingGroup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FeedbackForm=function FeedbackForm(){var _useContext=useContext(FeedbackContext),addFeedback=_useContext.addFeedback,updateFeedback=_useContext.updateFeedback,FeedbackEdit=_useContext.FeedbackEdit;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),btnDisabled=_useState4[0],setBtnDisabled=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),msg=_useState6[0],setMsg=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),rating=_useState8[0],setRating=_useState8[1];useEffect(function(){if(FeedbackEdit.edit){setBtnDisabled(false);setText(FeedbackEdit.item.text);setRating(FeedbackEdit.item.rating);}},[FeedbackEdit]);// Form validation\nuseEffect(function(){if(text===\"\"){setBtnDisabled(true);setMsg(\"\");}else if(text!==\"\"&&text.trim().length<=10){setBtnDisabled(true);setMsg(\"Write atleast 10 characters.\");}else{setBtnDisabled(false);setMsg(\"\");}},[text]);var handleSubmit=function handleSubmit(e){e.preventDefault();if(FeedbackEdit.edit){updateFeedback(FeedbackEdit.item.id,{rating:rating,text:text});}else{addFeedback({rating:rating,text:text});}setText(\"\");};return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:\".75em\"},children:\"How will you rate our service?\"}),/*#__PURE__*/_jsx(RatingGroup,{rating:rating,setRating:setRating}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{autoFocus:true,type:\"text\",value:text,onChange:function onChange(e){return setText(e.target.value);},placeholder:\"Write a review\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:btnDisabled,className:\"btn btn-primary\",children:\"Submit\"})]})}),msg]});};export default FeedbackForm;","map":{"version":3,"names":["React","useEffect","useState","Card","useContext","FeedbackContext","RatingGroup","FeedbackForm","addFeedback","updateFeedback","FeedbackEdit","text","setText","btnDisabled","setBtnDisabled","msg","setMsg","rating","setRating","edit","item","trim","length","handleSubmit","e","preventDefault","id","marginBottom","target","value"],"sources":["C:/Users/DELL/Desktop/New React Practice/traversy-media-course/feedback-app/src/Components/FeedbackForm.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Card from \"./Shared/Card\";\r\n\r\n// Context\r\nimport { useContext } from \"react\";\r\nimport FeedbackContext from \"../Context/FeedbackContext\";\r\n\r\n// Components\r\nimport RatingGroup from \"./RatingGroup\";\r\n\r\nconst FeedbackForm = () => {\r\n    const { addFeedback, updateFeedback, FeedbackEdit } =\r\n        useContext(FeedbackContext);\r\n\r\n    const [text, setText] = useState(\"\");\r\n    const [btnDisabled, setBtnDisabled] = useState(true);\r\n    const [msg, setMsg] = useState(\"\");\r\n    const [rating, setRating] = useState(1);\r\n\r\n    useEffect(() => {\r\n        if (FeedbackEdit.edit) {\r\n            setBtnDisabled(false);\r\n            setText(FeedbackEdit.item.text);\r\n            setRating(FeedbackEdit.item.rating);\r\n        }\r\n    }, [FeedbackEdit]);\r\n\r\n    // Form validation\r\n    useEffect(() => {\r\n        if (text === \"\") {\r\n            setBtnDisabled(true);\r\n            setMsg(\"\");\r\n        } else if (text !== \"\" && text.trim().length <= 10) {\r\n            setBtnDisabled(true);\r\n            setMsg(\"Write atleast 10 characters.\");\r\n        } else {\r\n            setBtnDisabled(false);\r\n            setMsg(\"\");\r\n        }\r\n    }, [text]);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (FeedbackEdit.edit) {\r\n            updateFeedback(FeedbackEdit.item.id, { rating, text });\r\n        } else {\r\n            addFeedback({ rating, text });\r\n        }\r\n        setText(\"\");\r\n    };\r\n\r\n    return (\r\n        <Card>\r\n            <h2 style={{ marginBottom: \".75em\" }}>\r\n                How will you rate our service?\r\n            </h2>\r\n            <RatingGroup rating={rating} setRating={setRating} />\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"input-group\">\r\n                    <input\r\n                        autoFocus\r\n                        type=\"text\"\r\n                        value={text}\r\n                        onChange={(e) => setText(e.target.value)}\r\n                        placeholder=\"Write a review\"\r\n                    />\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={btnDisabled}\r\n                        className=\"btn btn-primary\"\r\n                    >\r\n                        Submit\r\n                    </button>\r\n                </div>\r\n            </form>\r\n            {msg}\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default FeedbackForm;\r\n"],"mappings":"iKAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,KAAI,KAAM,eAAe,CAEhC;AACA,OAASC,UAAU,KAAQ,OAAO,CAClC,MAAOC,gBAAe,KAAM,4BAA4B,CAExD;AACA,MAAOC,YAAW,KAAM,eAAe,CAAC,wFAExC,GAAMC,aAAY,CAAG,QAAfA,aAAY,EAAS,CACvB,gBACIH,UAAU,CAACC,eAAe,CAAC,CADvBG,WAAW,aAAXA,WAAW,CAAEC,cAAc,aAAdA,cAAc,CAAEC,YAAY,aAAZA,YAAY,CAGjD,cAAwBR,QAAQ,CAAC,EAAE,CAAC,wCAA7BS,IAAI,eAAEC,OAAO,eACpB,eAAsCV,QAAQ,CAAC,IAAI,CAAC,yCAA7CW,WAAW,eAAEC,cAAc,eAClC,eAAsBZ,QAAQ,CAAC,EAAE,CAAC,yCAA3Ba,GAAG,eAAEC,MAAM,eAClB,eAA4Bd,QAAQ,CAAC,CAAC,CAAC,yCAAhCe,MAAM,eAAEC,SAAS,eAExBjB,SAAS,CAAC,UAAM,CACZ,GAAIS,YAAY,CAACS,IAAI,CAAE,CACnBL,cAAc,CAAC,KAAK,CAAC,CACrBF,OAAO,CAACF,YAAY,CAACU,IAAI,CAACT,IAAI,CAAC,CAC/BO,SAAS,CAACR,YAAY,CAACU,IAAI,CAACH,MAAM,CAAC,CACvC,CACJ,CAAC,CAAE,CAACP,YAAY,CAAC,CAAC,CAElB;AACAT,SAAS,CAAC,UAAM,CACZ,GAAIU,IAAI,GAAK,EAAE,CAAE,CACbG,cAAc,CAAC,IAAI,CAAC,CACpBE,MAAM,CAAC,EAAE,CAAC,CACd,CAAC,IAAM,IAAIL,IAAI,GAAK,EAAE,EAAIA,IAAI,CAACU,IAAI,EAAE,CAACC,MAAM,EAAI,EAAE,CAAE,CAChDR,cAAc,CAAC,IAAI,CAAC,CACpBE,MAAM,CAAC,8BAA8B,CAAC,CAC1C,CAAC,IAAM,CACHF,cAAc,CAAC,KAAK,CAAC,CACrBE,MAAM,CAAC,EAAE,CAAC,CACd,CACJ,CAAC,CAAE,CAACL,IAAI,CAAC,CAAC,CAEV,GAAMY,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CACxBA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAIf,YAAY,CAACS,IAAI,CAAE,CACnBV,cAAc,CAACC,YAAY,CAACU,IAAI,CAACM,EAAE,CAAE,CAAET,MAAM,CAANA,MAAM,CAAEN,IAAI,CAAJA,IAAK,CAAC,CAAC,CAC1D,CAAC,IAAM,CACHH,WAAW,CAAC,CAAES,MAAM,CAANA,MAAM,CAAEN,IAAI,CAAJA,IAAK,CAAC,CAAC,CACjC,CACAC,OAAO,CAAC,EAAE,CAAC,CACf,CAAC,CAED,mBACI,MAAC,IAAI,yBACD,WAAI,KAAK,CAAE,CAAEe,YAAY,CAAE,OAAQ,CAAE,4CAEhC,cACL,KAAC,WAAW,EAAC,MAAM,CAAEV,MAAO,CAAC,SAAS,CAAEC,SAAU,EAAG,cACrD,aAAM,QAAQ,CAAEK,YAAa,uBACzB,aAAK,SAAS,CAAC,aAAa,wBACxB,cACI,SAAS,MACT,IAAI,CAAC,MAAM,CACX,KAAK,CAAEZ,IAAK,CACZ,QAAQ,CAAE,kBAACa,CAAC,QAAKZ,QAAO,CAACY,CAAC,CAACI,MAAM,CAACC,KAAK,CAAC,EAAC,CACzC,WAAW,CAAC,gBAAgB,EAC9B,cACF,eACI,IAAI,CAAC,QAAQ,CACb,QAAQ,CAAEhB,WAAY,CACtB,SAAS,CAAC,iBAAiB,oBAGtB,GACP,EACH,CACNE,GAAG,GACD,CAEf,CAAC,CAED,cAAeR,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}